---
contributors: DaemonLoki, MortenGregersen, multitudes
---

## Chapters
[1:05 - SwiftUI in more places](https://developer.apple.com/videos/play/wwdc2023/10148/?time=65)  
[10:21 - Simplified data flow](https://developer.apple.com/videos/play/wwdc2023/10148/?time=621)  
[18:46 - Extraordinary animations](https://developer.apple.com/videos/play/wwdc2023/10148/?time=1126)  
[27:18 - Enhanced interactions](https://developer.apple.com/videos/play/wwdc2023/10148/?time=1638)  

## Intro
- SwiftUl in more places  
- Simplified data flow  
- Extraordinary animations  
- Enhanced interactions  

# SwiftUI in more places
Spatial computing brings SwiftUI into a bold new future with all-new 3D capabilities like volumes; rich experiences with immersive spaces; new 3D gestures, effects, and layout; and deep integration with RealityKit. From core pieces like the Home View in Control Center to familiar apps like TV, Safari, and Freeform; to all-new environments like immersive rehearsals in Keynote; SwiftUI is at the heart of these user experiences

![Overview of the section titled 'SwiftUI in more places'][1]

[1]: ../../../images/notes/wwdc23/10148/SwiftUI-in-more-places.png

### Scenes for spatial computing

Scenes for spatial computing uses `WindowGroup` (render as 2D windows with 3D controls).
Add `.windowStyle(.volumetric)` to get a volume.

![WindowGroup][WindowGroup]

[WindowGroup]: ../../../images/notes/wwdc23/10148/WindowGroup.jpg

### NavigationSplitViews are available.

```swift
NavigationSplitView {
    SidebarList($selection)
} detail: {
    Detail(for: selection)
}
```

![NavigationSplitViews][NavigationSplitViews]

[NavigationSplitViews]: ../../../images/notes/wwdc23/10148/NavigationSplitViews.jpg


### TabViews

```swift
TabView {
    DogsTab ()
        .tabItem { ... }
    CatsTab()
        .tabItem { ... }
    BirdsTab ()
        .tabItem { ... }
}
```

![TabViews][TabViews]

[TabViews]: ../../../images/notes/wwdc23/10148/TabViews.jpg

### Volume content

Fill a volume with a static model using `Model3D`. 

![volume content][volume]

[volume]: ../../../images/notes/wwdc23/10148/globe.jpg

For dynamic, interactive models with lighting effects and more, use the new `RealityView`.
```swift
// Volume content
import SwiftUI 
import RealityKit

struct Globe: View {
    var body: some View {
        RealityView { content in
            if let earth = try? await ModelEntity(named: "Earth") {
                earth.addImageBasedLighting()
                content.add(earth)
            }
        }
    }
}
```
### Immersive Spaces
Use an ImmersiveSpace with the mixed immersion style to connect your app to the real world, combining your content with people's surroundings. Anchor elements of your app to tables and surfaces, and augment and enrich the real world with virtual objects and effects. Go further with the full immersion style. Your app takes complete control. Build these connected and immersive experiences using the same Model3D and RealityView that work in volumes.
- full immersion style
- mixed immersion style

See more in the session:

[Meet SwiftUI for spatial computing - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10109)  

## watchOS 10 redesigned user experience

![watchOS 10 redesigned user experience][watch]

[watch]: ../../../images/notes/wwdc23/10148/watch.jpg

- Newly empowered with new transitions:
    - NavigationSplitView
    - TabView gets a new `.verticalPagingStyle` driven by the Digital Crown
    - NavigationStack

![watchOS 10 redesigned user experience][watch2]

[watch2]: ../../../images/notes/wwdc23/10148/watch2.jpg

- `.containerBackground` modifier lets you configure the background of the container which animate when you push and pop content.

```swift
// Container backgrounds
CityDetails(city: city)
    .containerBackground(for: navigation) { ... }
```

![watchOS 10 redesigned user experience][watch3]

[watch3]: ../../../images/notes/wwdc23/10148/watch3.jpg

- Multiplatform toolbar placements (`.topBarLeading` and `.topBarTrailing`, along with the existing `.bottomBar`) let you perfectly place small detail views in your Apple Watch apps.

```swift
// Toolbar placements
.toolbar {
    ToolbarItem(placement: .topBarTrailing) { ... }
    ToolbarItem(placement: .bottomBar) { ...}
}
```

![watchOS 10 redesigned user experience][watch4]

[watch4]: ../../../images/notes/wwdc23/10148/watch4.jpg

- New additions
    - `DatePicker`
    - Selection in `List`s

```swift
// Newly available
DatePicker(
    "Time (h:m:s)",
    selection: $date,
    displayedComponents: hourMinuteAndSecond
)

NavigationSplitView {
    List(locales, selection: $selectedLocale) { locale in
        ...
    } 
    .containerBackground(...)
} detail: {
    if let selectedLocale { ... }
}
```

![watchOS 10 redesigned user experience][watch5]

[watch5]: ../../../images/notes/wwdc23/10148/watch5.jpg


See more in the sessions:
[Design and build apps for watchOS 10 - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10138)  
and  
[Update your app for watchOS 10](https://developer.apple.com/videos/play/wwdc2023/10031)  

## Interactive widgets 
Widgets for the Smart Stack on watchOS 10 let the people using your app see their information on the go.

![watchOS 10 redesigned user experience][watch6]

[watch6]: ../../../images/notes/wwdc23/10148/watch6.jpg

SwiftUI is core to widgets wherever they appear, like these other new places. Widgets on the Lock Screen on iPadOS 17 are a great complement to widgets on the Home Screen.

![iPad Widgets][iPadWidgets]

[iPadWidgets]: ../../../images/notes/wwdc23/10148/iPadWidgets.jpg

Big, bold widgets shine on the iPhone Always-On display with Standby Mode. 


And desktop widgets on macOS Sonoma...
  
Widgets now support interactive controls. Toggle and Button in Widgets can now activate code defined in your own app bundle using App Intents. And you can animate your widgets using SwiftUI transition and animation modifiers.

- Widgets for Smart Stack
    - Appear when scrolling down
    - Also available on iPadOS 17
    - Standby Mode for iPhone
    - Desktop Widgets on macOS
- Interactive controls for Widgets
    - Toggle and Button
    - Ase App Intents
    - animate with transitions and animations
    - Previews leverage macros to allow you to show the widget states with a timeline

See more in the sessions:

[Bring widgets to new places - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10027) 

and 

[Bring widgets to life - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10028/)  

## Previews for widgets

```swift
#Preview(as: .systemSmall) {
    CaffeineTrackerWidget()
} timeline: {
    CaffeineLogEntry.log1
    CaffeineLogEntry.log2
    CaffeineLogEntry.log3
    CaffeineLogEntry.log4
}
```

#### Xcode Previews

New Previews syntax:

```swift
#Preview("good dog") {
    ZStack(alignment: .bottom) {
        Rectangle()
            .fill(Color.blue.gradient)
        Text("Riley")
            .font(.largeTitle)
            .padding()
            .background(.thinMaterial, in: .capsule)
            .padding()
    }
    .ignoresSafeArea()
}
```

You can now interact with previews of Mac apps right inside Xcode.

*See more in the sessions "Build programmatic UI with Xcode Previews" and "What's new in Swift".*

### SwiftUI extensions to other frameworks

#### MapKit

**NEW:** Use maps in your view.
**NEW:** Add markers, polylines and the user's location.

```swift
import SwiftUI
import MapKit

struct Maps_Snippet: View {
    private let location = CLLocationCoordinate2D(
        latitude: CLLocationDegrees(floatLiteral: 37.3353),
        longitude: CLLocationDegrees(floatLiteral: -122.0097))

    var body: some View {
        Map {
            Marker("Pond", coordinate: location)
            UserAnnotation()
        }
        .mapControls {
            MapUserLocationButton()
            MapCompass()
        }
    }
}

#Preview {
    Maps_Snippet()
}
```

*See more in the session "Meet MapKit for SwiftUI".*

#### SwiftCharts

**NEW:** Scrolling and selection in charts.

```swift
import SwiftUI
import Charts

struct ScrollingChart_Snippet: View {
    @State private var scrollPosition = SalesData.last365Days.first!
    @State private var selection: SalesData?

    var body: some View {
        Chart {
            ...
        }
        .chartScrollableAxes(.horizontal)
        .chartXVisibleDomain(length: 3600 * 24 * 30)
        .chartScrollPosition(x: $scrollPosition)
        .chartXSelection(value: $selection)
    }
}
```

**NEW:** Donut and pie charts with the new `SectorMark`.

```swift
import SwiftUI
import Charts

struct DonutChart_Snippet: View {
    var sales = Bagel.salesData

    var body: some View {
        Chart(sales, id: \.name) { element in
            SectorMark(
                angle: .value("Sales", element.sales),
                innerRadius: .ratio(0.6),
                angularInset: 1.5)
            .cornerRadius(5)
            .foregroundStyle(by: .value("Name", element.name))
        }
    }
}
```

*See more in the session "Explore pie charts and interactivity in Swift Charts".*

#### StoreKit

**NEW**: Cross platform view, for presenting available subscriptions. The view can be customized.

```swift
import SwiftUI
import StoreKit

struct SubscriptionStore_Snippet {
    var body: some View {
        SubscriptionStoreView(groupID: passGroupID) {
            MyMarketingContent()
                .lightMarketingContentStyle()
                .containerBackground(for: .subscriptionStoreFullHeight) {
                    SkyBackground()
                }
        }
        .backgroundStyle(.clear)
        .subscriptionStoreButtonLabel(.multiline)
        .subscriptionStorePickerItemBackground(.thinMaterial)
        .storeButton(.visible, for: .redeemCode)
    }
}
```

*See more in the session "Meet StoreKit for SwiftUI".*

## Simplified data flow

![Overview of the section titled 'Simplified data flow'][2]

[2]: ../../../images/notes/wwdc23/10148/Simplified-data-flow.png

- `@Observable` macro
    - familiar patterns while keeping code precise and performant
    - simply add `@Observable` to a class
    - no need for `@State` or similar things in the view
    - only read values trigger view updates
    - get rid of `@`ObservableObject, `@StateObject` and others, only `@State` and `@Environment` are left
- `@State` can be passed into the environment
    - can then be read either via the type (e.g. `User.self`) or with a custom key
- SwiftData
    - `@Model` instead of `@Observable` (but gets its features)
    - Steps to take:
        - add a modifier for `.modelContainer` with the definition of the model type (`.modelContainer(for: Dog.self)`) added to the `WindowGroup` of the app
        - inside of the view, switch `@State` to `@Query` which allows e.g. sorting (`@Query(sort: \.dateSpotted)`) and efficient data loading even for large datasets
        - also stores document data
- DocumentContainer gets updates
    - SwiftData
    - Sharing options
    - Undo/Redo support
    - Inspector (presenting differently on the respective layouts)
- Dialogs get new powers
    - e.g. severity, suppression toggle
    - HelpLinks
- Lists and Tables
    - customization of data toggling
    - programmatically expand sections
    - new stylings for tables

## Extraordinary animations

![Overview of the section titled 'Extraordinary animations'][3]

[3]: ../../../images/notes/wwdc23/10148/Extraordinary-animations.png

- Keyframe Animator API
    - animate multiple values in parallel
    - give the animator a value of animatable values
    - `KeyframeAnimator` defines a view, then a list of `KeyframeTrack`s with different keyframe animations.
    
```swift
KeyframeTrack(\.verticalTranslation) {
    SpringKeyframe(30, duration: 0.25, spring: .smooth)
    CubicKeyframe(-120, duration: 0.3)
    CubicKeyframe(-120, duration: 0.3)
		SpringKeyframe(0, spring: .bouncy)
}
KeyframeTrack(\.scale) { ... }
KeyframeTrack(\.rotation) { ... }
```
    
### Phase Animator
- difference to keyframe: sequentially go through animation steps, while keyframe goes through multiple ones in parallel
- start one animation when the previous one has finished

```swift
HappyDog()
    .phaseAnimator(
        SightingPhases.allCases, trigger: sightingCount
    ) { content, phase in
        content
            .rotationEffect(phase.rotation)
            .scaleEffect(phase.scale)
    } animation: { phase in
        switch phase {
        case .shrink: .snappy(duration: 0.1)
        case .spin: .bouncy
        case .grow: .spring(
            duration: 0.2, bounce: 0.1, blendDuration: 0.1)
        case .reset: .linear(duration: 0.0)
        }
    }
    .sensoryFeedback(.increase, trigger: sightingCount)
```
    
- define multiple phases and hand them to the `.phaseAnimator` modifier, together with a trigger that triggers the animation whenever a value changes
- define the content and how the elements of the phases change it (e.g. rotation, scale)
- provide the types of animations for the different phases, e.g. `.snappy`, `.bouncy`, or new `spring` options
- Haptic Feedback
    - `.sensoryFeedback(.increase, trigger: sightingCount)`
- Visual Effects modifier
    - works with coordinate spaces
    - and geometry reader somehow
    - sure fun to play around with
- Text can now be styles with a `foregroundStyle` inside another Text
- `Text("\(Text(dog.name).foregroundStyle(stripes)) is a good dog")`
- That works with a Shader:
        
```swift
var stripes: Shader {
	ShaderLibrary.angledFill(
		.float(stripeSpacing),
		.float(stripleAngle),
		.color(Color(.stripes))
	)
}
```
        
- Can bring Metal shaders into SwiftUI with ShaderLibrary
- Symbols get a `.symbolEffect` modifier with multiple options:
    - `.pulse`
    - `.variableColor`
    - `.scale`
    - `.appear/disappear`
    - `.replace`
    - event notifications with `bounce`
    - new `.textScale(.secondary)` modifier automatically scaling

## Enhanced interactions

![Overview of the section titled 'Enhanced interactions'][4]

[4]: ../../../images/notes/wwdc23/10148/Enhanced-interactions.png

- Scroll transition effects
    - the `.scrollTransition` modifier can be applied to elements inside of the ScrollView
    - gets a `content` and a `phase`, letâ€™s  apply effects to the `content` with the help of the `phase` properties, e.g. the `.isIdentity`
    - `.containerRelativeFrame` allows to split the view into parts of the frame (`count` ) and define how much each element should span (`span`)
    - can use a `.safeAreaInset` modifier with an edge to position this
    - `.scrollTargetLayout` can be aded to the `LazyHStack` and then the `ScrollView` can get a `scrollTargetBehavior(.viewAligned)` modifier
    - paging behavior also possible, or something custom using the `ScrollTargetBehavior` protocol
    - `.scrollPosition` shows the top most item
- Images support HDR with `.allowDynamicRange(.high)` - use sparringly
- Accessbility APIs
    - e.g. `.accessbilityZoomAction` when thereâ€™s a magnification gesture available
- Color
    - use static imports of colors defined in the asset catalog with `Color(.tennisBallYellow)`
- Control group with new compactMenu style (`.controlGroupStyle(.compactMenu)`)
- Pickerstyle with a `.pickerStyle(.palette)` and the `.paletteSelectionEffect(.symbolVariant(.fill))`
- New Button styles (coming after `.buttonStyle(.bordered)`)
    - `.buttonBorderShape(.roundedRectangle)`
    - `buttonBorderShape(.circle)`
- Buttons can support drag actions / force-clicking (macOS) with the `.springLoadingBehavior(.enabled)` modifier
- New `.hoverEffect(.highlight)` (only available for tvOS?)
- `.onKeyPress` to allow for reaction to any keyboard input
    - `.onKeyPress(characters: .letters, phases: .down) { press in ... }`

# Wrap up
- SwiftUl in more places  
- Simplified data flow  
- Extraordinary animations  
- Enhanced interactions  

## Resources

[Have a question? Ask with tag wwdc2023-10148](https://developer.apple.com/forums/create/question?tag1=755030&tag2=239)  
[Search the forums for tag wwdc2023-10148](https://developer.apple.com/forums/tags/wwdc2023-10148)  
[Playing haptics](https://developer.apple.com/design/Human-Interface-Guidelines/playing-haptics)  

# Related Videos
[Animate symbols in your app - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10258)  
[Animate with springs - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10158)  
[Beyond scroll views - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10159)  
[Bring widgets to new places - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10027)  
[Bring widgets to life - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10028/)  
[Build accessible apps with SwiftUI and UIKit - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10036)  
[Build an app with SwiftData - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10154)  
[Build programmatic UI with Xcode Previews - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10252)  
[Design and build apps for watchOS 10 - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10138)  
[Discover Observation in SwiftUI - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10149)  
[Explore pie charts and interactivity in Swift Charts - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10037)  
[Explore SwiftUI animation - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10156)  
[Inspectors in SwiftUI: Discover the details - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10161)  
[Meet MapKit for SwiftUI - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10043)  
[Meet StoreKit for SwiftUI - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10013)  
[Meet SwiftData - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10187)  
[Meet SwiftUI for spatial computing - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10109)  
[The SwiftUI cookbook for focus - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10162)  
[Whatâ€™s new in Swift - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10164)  
[Wind your way through advanced animations in SwiftUI - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10157)  
[Update your app for watchOS 10](https://developer.apple.com/videos/play/wwdc2023/10031)  
