---
contributors: Jeehut, zntfdr, multitudes
originalURL: https://www.notion.so/papershift/Cihat-WWDC-2021-Notes-6cae8d046c17426f8dafddc00abdae29
---

## Chapters
- Overview
- Building and browsing
- Authoring
- Sharing

# Overview

Xcode 13 has new features to build, write, and browse documentation for Swift frameworks and packages.

![DOCc][DOCc]

[DOCc]: ../../../images/notes/wwdc21/10166/DOCc.jpg

This documentation lives right alongside the platform libraries in the Developer Documentation window right in Xcode. 

Now Xcode comes with a compiler for your documentation as well as your code, and you can build and view documentation for Swift frameworks and packages all inside Xcode.
 We call it DocC, and we've integrated it all throughout Xcode to enhance the way you read and write documentation.
 Now, DocC is more than just a documentation compiler
 
- Allows to write code reference docs
- Articles allow you to walk users through the big picture behind your framework
- Tutorials are a powerful step-by-step walk-through of writing a project that uses your framework

![DOCc][DOCc1]

[DOCc1]: ../../../images/notes/wwdc21/10166/DOCc1.jpg

If you want to know more about assembling a documentation catalog with articles and tutorials outside your source code, check out these sessions at WWDC this year.
 
[Build interactive tutorials using DocC - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10235)  
[Elevate your DocC documentation in Xcode - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10167)
 
- Will be released as open source later this year

# Building and browsing

## How documentation gets built

- Xcode builds your framework or package and asks the compiler to save information about its public APIs alongside your compiled artifacts  
- That public API information is then handed to DocC, which then combines it with your documentation catalog containing articles and tutorials written outside your source code to create the final archive containing the compiled documentation

![DOCc][DOCc2]

[DOCc2]: ../../../images/notes/wwdc21/10166/DOCc2.jpg

To build your documentation, Xcode builds your framework or package and asks the compiler to save information about its public APIs alongside your compiled artifacts. That public API information is then handed to DocC, which then combines it with your documentation catalog containing articles and tutorials written outside your source code to create the final archive containing the compiled documentation.
 To learn more about documentation catalogs and organizing your docs, check out the [Elevate your DocC documentation in Xcode - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10167) session.

And thanks to DocC's integration with Xcode's build system, this process repeats for every Swift framework and package that your target depends on. This way, you have all your relevant documentation all in one place.
 

##  Three ways for building documentation for Swift frameworks and packages in Xcode 13

- to build documentation on demand, there's a new `Build Documentation` menu item to compile and load up your docs.

![DOCc][DOCc3]

[DOCc3]: ../../../images/notes/wwdc21/10166/DOCc3.jpg

- if you're working on a Swift framework and always want to preview your documentation as you go, there's also a new `Build Documentation during ‘Build’` build setting to build docs every time you compile

![DOCc][DOCc4]

[DOCc4]: ../../../images/notes/wwdc21/10166/DOCc4.jpg

- via `$ xcodebuild docbuild`

See : [Host and automate your DocC documentation - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10236)  

My teammates have been working on this package called SlothCreator, which is all about cataloging and customizing cute little sloths. 

![DOCc][DOCc4a]

[DOCc4a]: ../../../images/notes/wwdc21/10166/DOCc4a.jpg

I've set up this app I've called Slothy so I can use SlothCreator to customize my sloths and preview them as I go. I've set up SlothCreator as a dependency of my app already, but I want to see more about what APIs it offers, so let's open up the Product menu, and select Build Documentation to take a look.

![DOCc][DOCc5]

[DOCc5]: ../../../images/notes/wwdc21/10166/DOCc5.jpg

And just like that, the Developer Documentation window opens, and over in the Navigator, I can expand my Slothy project and the SlothCreator package I'm working with to see an overview in the Navigator.

![DOCc][DOCc6]

[DOCc6]: ../../../images/notes/wwdc21/10166/DOCc6.jpg

I'll load the SlothCreator overview in the main view, and if I scroll down, there's a list of types and protocols available.

![DOCc][DOCc7]

[DOCc7]: ../../../images/notes/wwdc21/10166/DOCc7.jpg

## Authoring

I'd like to show you a few tricks to write even better documentation with DocC.
DocC is designed around the benefits of in-source documentation.
You write your documentation right alongside your code, making it convenient and easy to integrate with your existing development workflow.

You're likely already annotating your source code with comments to provide extra context to future maintainers of your codebase. In Swift and many other languages, you write a comment by starting your line with two forward slashes.
```swift
// A model representing a sloth.
public struct Sloth {
	//...
}
```

By writing these comments, you've gone a long way in helping future maintainers to understand and be productive within your codebase. But what if you want to help today's adopters of your framework? This is what documentation comments are for. By writing a comment that begins with three forward slashes, you're telling the Swift documentation compiler to associate the comment with the declaration immediately below it.
 The comment will be included in the symbol's compiled documentation page and accessible to anyone who imports your framework. And if you prefer to use block-style comments, you can create a documentation comment in that style by just including an extra asterisk in the opening delimiter.

![DOCc][DOCc8]

[DOCc8]: ../../../images/notes/wwdc21/10166/DOCc8.jpg

I want to be sure that every public API in SlothCreator is well documented, because it's these API that are accessible to anyone importing my framework. For the same reason, DocC only generates documentation pages for the public and open symbols in your framework. There's just a couple of symbols in SlothCreator that still need documenting.
 
 Let's start with this Food struct. I'll begin by adding three forward slashes above the type's declaration to create a documentation comment. And then I'll write that this is "Food that a sloth can consume." 
 
 The first line of my documentation comment will turn into the symbol's summary, but I'd like to add some extra information with a discussion section. I'll add one now by adding a line break after my summary and then adding some additional detail about the kinds of foods sloths love. And because DocC has full support for Markdown, I can add a code example using Markdown's fenced code block syntax.

![DOCc][DOCc9]

[DOCc9]: ../../../images/notes/wwdc21/10166/DOCc9.jpg

I think this adds some really helpful additional context around the Food struct. Let's see how my documentation is looking now by rebuilding documentation. I can do that by moving my mouse up to the Product menu and then selecting Build Documentation. Xcode will now rebuild SlothCreator's documentation alongside the framework itself.

But I'm actually interested in going straight to the page for the Food struct to review the comment we just added.

Xcode has a feature called Quick Help that will let me do just that. Quick Help offers a short summarized version of a symbol's documentation right in the source editor. I can try it out now by holding down the Option key and then clicking on Food's declaration. But an adopter of SlothCreator could open the same view by option-clicking on any reference to the Food struct in their code.

So the comment we wrote is right here in the Summary and Discussion sections. But if I'm looking for more than the summarized view, new in Xcode 13 is the Open in Developer Documentation link.

![DOCc][DOCc10]

[DOCc10]: ../../../images/notes/wwdc21/10166/DOCc10.jpg

I'm noticing that the Eat method still needs a documentation comment. So let's take a quick look at the best way of documenting methods. We start the same way, by adding a triple-slash comment above the method's declaration and adding text that will make up its documentation summary.
```swift
/// A model representing a sloth.
public struct Sloth {
	/// Sleep in the specified habitat.
	mutating public func sleep(in habitat: Habitat) {
		energyLevel += habitat. comfortLevel
	}
}
```

But we should also document specifically what we're expecting to be passed as a parameter.
We do this via a Parameters section. You add a Parameters section to your documentation by writing a Markdown list item starting with the word Parameter followed by the name of your method's parameter, a colon, and then its documentation. You can add a Returns section in a very similar way, this time by writing a Returns delimiter followed by a colon and a description of what your method returns.
```swift
/// A model representing a sloth.
public struct Sloth {
	/// Sleep in the specified habitat.
	///
	/// - Parameter habitat: The location for the sloth to sleep.
	/// - Returns: The sloth's energy level after sleeping.
mutating public func sleep(in habitat: Habitat) ->
	mutating public func sleep(in habitat: Habitat) {
		energyLevel += habitat. comfortLevel
	}
}
```

But what if your method has multiple parameters? In this case, the best thing to do is to go from a singular Parameter delimiter to a plural Parameters one. This works much the same as the others except your parameter names are written as children of the parent Parameters delimiter.
```swift
/// A model representing a sloth.
public struct Sloth {
	/// Sleep in the specified habitat.
	///
	/// - Parameters:
	/// 	- habitat: The location for the sloth to sleep.
	/// 	- numberOfHours: The number of hours for the sloth to sleep.
	/// - Returns: The sloth's energy level after sleeping.
	mutating public func sleep(in habitat: Habitat, for numberfHours: Int = 12) -> Int {
		energyLevel += habitat.comfortLevel * number0fHours 
		return energyLevel
	}
}
```

![DOCc][DOCc11]

[DOCc11]: ../../../images/notes/wwdc21/10166/DOCc11.jpg

## documenting the sloth Eat method.

Since I'm documenting a more complicated symbol, I'm going to take advantage of Xcode's great Add Documentation feature which will insert a template best-suited for documenting the current declaration.
I can do this by holding down the Command key and then clicking on the method's declaration to open the Action menu.
 Next, I can click on Add Documentation in the Action menu.

![DOCc][DOCc12]

[DOCc12]: ../../../images/notes/wwdc21/10166/DOCc12.jpg

I have a great template to get started documenting my method.

![DOCc][DOCc13]

[DOCc13]: ../../../images/notes/wwdc21/10166/DOCc13.jpg

I'll begin by filling out the method's summary, and then I'll describe the food and quantity parameters as well as what this method returns. And then I'll finish off the documentation by adding a Discussion section along with a code example.
```swift
/// Eat the provided specialty sloth food.
/// 
/// Sloths love to eat while they move very slowly through their rainforest habitats. They 
/// are especially happy to consumereaves and twigs, which they digest over long periods 
/// of time, mostly while they sleep.
///
/// ```swift
///	let flower = Sloth. Food(name: "Flower Bud", energy: 10)
/// superSloth.eat(flower)
/// ```
///
/// -Parameters:
///    	- food: The food for the sloth to eat.
/// 	- quantity: The quantity of the food for the sloth to eat.
/// - Returns: The sloth's energy level after eating.
mutating public func eat(_ food: Food, quantity: Int = 1) -> Int {
		energyLevel += food.energy * quantity
		//...
}
```

Just like last time, I can rebuild documentation by moving my mouse to the Product menu and selecting the Build Documentation item.
And once again, Xcode is building my documentation alongside the framework itself.
 This time, I'll navigate to the Sloth struct via the window's Navigator, where I'll find Sloth in the Sloths topic group.
 If I scroll down on the Sloth page, I'll find my method in the Instance Methods section.

![DOCc][DOCc14]

[DOCc14]: ../../../images/notes/wwdc21/10166/DOCc14.jpg

## Connecting your documentation

- Make connections
- Encourage discovery
- Code completion

I think this is nearly ready to go, but we're still missing something here. If I'm just reading this page of documentation, I don't have a great context of the other relevant symbols I should be considering here. And as a maintainer of SlothCreator, I'd really like to call out some other symbols that my reader should consider learning about next.

Well, new to Xcode 13 is the ability to link to symbols in your documentation. This is a really great way to connect different parts of your framework and guide your reader to relevant pieces of information.

You write these links via a new double backtick syntax.
```swift
/// You can increase the sloth's energy level by asking them to eat ``(_:quantity:)``
/// or ``sleep(in: for:)``.
```
Let's look at an example.
Here's the method we previously documented, sleep. But it doesn't exist in a vacuum. There's actually another property in the Sloth struct There's a value representing the current energy level of the sloth, and I think it's important here for my reader to understand that one of the side effects of calling sleep is a change to the sloth's energy level.

So I'll add to my methods Discussion section here with a reference to the energyLevel property Before Xcode 13, the natural way to do this would be to just write the property's name in a monospace code font by surrounding it in backticks.
 But now I can transform to double backtick syntax and create a link. Now, linking to energyLevel was pretty simple because that property is a sibling of the method I'm documenting, and just like when referencing a local variable in Swift, I don't need to further qualify my link with the parent type. I can just write the name of the property, energyLevel.

But if I want to reference a child of a different type, I need to be a little more specific. So here I write Habitat/comfortLevel to link to a child of the Habitat struct.
```swift
/// A model representing a sloth.
public struct Sloth {
	/// The energy level of the sloth.
	public var energyLevel: EnergyLevel
	
	/// Sleep in the specified habitat.
	///
	/// Each time the sloth sleeps, their energyLevel' increases every hour by the
	/// habitat's ``Habitat/comfortLevel``
	///
	/// - Parameters:
	/// 	- habitat: The location for the sloth to sleep.
	/// 	- numberOfHours: The number of hours for the sloth to sleep.
	/// - Returns: The sloth's energy level after sleeping.
	mutating public func sleep(in habitat: Habitat, for numberfHours: Int = 12) -> Int {
		energyLevel += habitat.comfortLevel * number0fHours 
		return energyLevel
	}
}
```

Let's see how this works in practice by adding some links to the documentation for the eat method. I'll begin here by writing that "When they eat food, a sloth's." and now I'm going to write a symbol link to the energyLevel property.
So I'll type two backticks, and then I'll begin writing energyLevel.

Xcode's code completion will help me out to make sure I'm getting the correct link. I'll go ahead and select that item.
And so I'll say that the energy level "increases by the food's"-- and now I'm going to reference a child of the Food struct. I'll begin with two backticks again. And then I'll write Food, a forward slash, and then energy.

![DOCc][DOCc15]

[DOCc15]: ../../../images/notes/wwdc21/10166/DOCc15.jpg

I've now created two symbol links which I think are going to really help my reader understand the context around this method better. And these links are even accessible in Quick Help.

So I'll hold down the Option key and click on my method's declaration to open the Quick Help popover.

Here's the Discussion section we added and, of course, in the discussion, our two links. 

![DOCc][DOCc16]

[DOCc16]: ../../../images/notes/wwdc21/10166/DOCc16.jpg

And if I click on one, I'm brought straight to the referenced symbol's page in the documentation window. 

# Sharing

Now that I've written a good documentation comment for every public API in SlothCreator, I'm really excited to share it with my colleagues and maybe even make it available on the web.
 I can do this via the documentation archive that Xcode outputs as part of every documentation build.
 Contained in the documentation archive is a single-page web app that you can use to share your documentation on the web.
 My colleague David will be going in depth on just how to do that in his “Host and automate your DocC documentation” session.
 I highly recommend you check that one out.
But Xcode also supports exporting and importing your documentation directly from the documentation window.
 Let's take a look at that now.
 I'll export SlothCreator from the documentation window by first moving my mouse over to the window's Navigator.
 When I hover over the SlothCreator framework item, a contextual menu icon will appear.
 I'll click on it, and now I have the option to Export.
I'll just save it to my desktop.
 Great.
 Now I'm ready to send it off to my colleagues, and if they just double-click on the archive, it will open in Xcode's documentation window.
 But since I already know about SlothCreator, I'd like to open up a different documentation archive.
 I've recently been discussing with the team that it would be great to add a command line interface to SlothCreator, and one of my colleagues mentioned that ArgumentParser is a great open source framework that could help.
 They sent me the latest documentation archive for ArgumentParser, so let's open it up now.
 I can just double-click on the documentation archive and, just like that, get started learning right away.
 Documentation is key to developing a successful and long-lasting framework.
 We think that you'll find writing documentation directly in source is really convenient and powerful.
 And new in Xcode 13 with DocC integration, all your hard work writing great documentation is going to pay off in new and powerful ways.
We have several other sessions at WWDC that really help you take your documentation to the next level.
 “Elevate your DocC documentation in Xcode” picks up where this session leaves off, showing you how to better organize your documentation by adding a documentation catalog.
 “Host and automate your DocC documentation,” which I mentioned earlier, explains how to integrate documentation builds into your existing continuous integration setup as well as how to host your documentation online.
Finally, if you have a more complicated part of your framework that could benefit from step-by-step instruction, I recommend you check out “Build interactive tutorials in DocC” which will show you how to do just that.
Thank you for watching.
 [percussive music]

- Xcode supports opening the DocC Archive in a nice GUI with navigation & search (called Documentation Viewer)
- Documentation is written in-source, via `///` doc comments
- DocC only generates documentation for code marked as `public` or `open`
- Code examples can be added via Markdown code syntax via 3 backticks "\`\`\`swift"
- New “Open in Developer Documentation” link in any QuickHelp menu (Option + Click)
- Prefer `Parameters` over `Parameter` for multiple parameters for method docs
- Option+Click and choose “Add Documentation” to auto-generate documentation template
- New double-backtick syntax to inter-link between different documented elements
- For fields of different types, use `/` as in `Habitat/child`, includes auto-completion
- Xcode exports an archive which is a "single page web app", can be shared to Web easily
- Export via (…) menu, file extension is `.doccarchive`

## Link symbols

- You write links via a double backtick syntax 
- linking to sibling definitions only requires the name of the definition

```swift
/// This is a sibling property link ``propertyName``.
```

- when referencing external definitions, we need to further qualify the link with the parent type. 

```swift
/// This is a property of another type link ``TypeName/propertyName``.
```

## Resources
[Formatting your documentation](https://developer.apple.com/documentation/Xcode/formatting-your-documentation)  
[Have a question? Ask with tag wwdc21-10166](https://developer.apple.com/forums/create/question?&tag1=266&tag2=76030&tag3=267030)  
[Search the forums for tag wwdc21-10166](https://developer.apple.com/forums/tags/wwdc21-10166)  
[SlothCreator: Building DocC Documentation in Xcode](https://developer.apple.com/documentation/xcode/slothcreator_building_docc_documentation_in_xcode)  
[Writing symbol documentation in your source files](https://developer.apple.com/documentation/Xcode/writing-symbol-documentation-in-your-source-files)  


## Related Videos
[Create rich documentation with Swift-DocC - WWDC23](https://developer.apple.com/videos/play/wwdc2023/10244)  
[Build interactive tutorials using DocC - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10235)  
[Elevate your DocC documentation in Xcode - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10167)  
[Host and automate your DocC documentation - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10236)  
[What‘s new in Swift - WWDC21](https://developer.apple.com/videos/play/wwdc2021/10192)  
